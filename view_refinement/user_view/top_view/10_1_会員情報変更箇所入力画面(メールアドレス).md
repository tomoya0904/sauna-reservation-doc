# 【サウナトラベル検索サイト】業務要件定義書\_トップ画面\_会員情報変更箇所入力画面

<div style="text-align: right;">
Confidential SaunaTravel
</div>

|更新日|対応者|内容|
|-|-|-|
| 2024/08/17 | 原 | 新規作成 |


## 目次
#### [1 メールアドレス再設定](#anchor1)

<a id="anchor1"></a>

## 1 メールアドレス再設定

### 1.1 概要

メールアドレス再設定に必要な情報を入力する

### 1.2 要件

#### 1.2.1 バリデーションチェック

| 入力項目 | 必須チェック                   | 文字数チェック   | 利用可能文字種チェック| 必要文字種チェック | 相関チェック | 一意性チェック | マスタチェック |
| ------ | ------------------------------ | --------------- | ------- | ------- | ------- | ------- | ------- |
| メールアドレス入力ボックス  | 　必須   |  local部: 1~64文字 domain部: 3~253文字 全体の文字数: 5~254文字   | local部: 英字(大文字・小文字)・数字・記号(! # $ % & ' * + - / = ? ^ _ ` { \| } ~ .) domain部: 英字(大文字・小文字)・数字・記号 (- .)| @を含むか  | なし | DBに同一のメールアドレスが存在しないか | なし  |
| パスワード入力ボックス  | 　必須   | 1文字以上  | なし | なし | なし| なし | なし  |
| CAPTCHA入力ボックス  | 　必須   | なし  | 半角英数字 | なし | なし| なし | なし  |


#### 1.2.2 ビジネスルール

1. **現在のメールアドレス確認ボックス**
   - ユーザーの現在登録しているメールアドレスが表示される
   - 表示されているメールアドレスの変更は不可能

2. **メールアドレス入力ボックス**
   - ユーザーのメールアドレスを入力できる
   - 入力フォームからのフォーカスを外した際に、文字数・文字種チェックが実行される
   
3. **パスワード入力ボックス**
   - ユーザーのパスワードを入力できる
   - 入力フォームからフォーカスを外した際に、文字数チェックが実行される

4. **CAPTCHA入力ボックス**
   - CAPTCHAに表示される文字列を入力できる

5. **変更を保存するボタン**
   - ボタンを押下すると下記の順番でバリデーションチェックが実行される
     - 各入力ボックスのビジネスルールに記載したバリデーションチェック
     - CAPTCHAが一致するか
       - 一致しない場合はCAPTCHAがリロードされる
     - 同一のメールアドレスがマスタに存在しないか
       - 一致したメールアドレスが存在する場合ログイン画面に遷移するように促す
    - ユーザーのパスワードが一致するか
  - 変更完了できると会員情報変更完了画面に遷移する

 ### 1.3 疑問点

<a id="anchor1"></a>

- 登録が万が一失敗した場合は？(通信がうまくいかず失敗するケースもあり得る)その場合はどこからやり直させるのか？
- メールアドレス変更した場合はメールを送信した方が良いのでは？